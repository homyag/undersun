{% load static %}
{% load i18n %}

{% if promotional_banner %}
    {% if promotional_banner.desktop_image or promotional_banner.tablet_image or promotional_banner.mobile_image %}
        {% with banner_url=promotional_banner.get_language_aware_url %}
        <section class="w-full promotional-banner-section">
            <div class="w-full">
            {% if banner_url %}
                <a href="{{ banner_url }}" class="block group">
            {% else %}
                <div class="group">
            {% endif %}

                    {% if promotional_banner.desktop_image %}
                        {% with fallback_src=promotional_banner.desktop_image.url %}
                            <picture class="block w-full overflow-hidden">
                                {% if promotional_banner.mobile_image %}
                                    <source media="(max-width: 767px)" srcset="{{ promotional_banner.mobile_image.url }}">
                                {% endif %}
                                {% if promotional_banner.tablet_image %}
                                    <source media="(min-width: 768px) and (max-width: 1023px)" srcset="{{ promotional_banner.tablet_image.url }}">
                                {% endif %}
                                <source media="(min-width: 1024px)" srcset="{{ promotional_banner.desktop_image.url }}">
                                <img src="{{ fallback_src }}" alt="{{ promotional_banner.name|default:_('Рекламный баннер Undersun Estate') }}"
                                     class="w-full h-[150px] object-cover transition-transform duration-500 ease-out" loading="lazy">
                            </picture>
                        {% endwith %}
                    {% elif promotional_banner.tablet_image %}
                        {% with fallback_src=promotional_banner.tablet_image.url %}
                            <picture class="block w-full overflow-hidden">
                                {% if promotional_banner.mobile_image %}
                                    <source media="(max-width: 767px)" srcset="{{ promotional_banner.mobile_image.url }}">
                                {% endif %}
                                <source media="(min-width: 768px) and (max-width: 1023px)" srcset="{{ promotional_banner.tablet_image.url }}">
                                <img src="{{ fallback_src }}" alt="{{ promotional_banner.name|default:_('Рекламный баннер Undersun Estate') }}"
                                     class="w-full h-[150px] object-cover transition-transform duration-500 ease-out" loading="lazy">
                            </picture>
                        {% endwith %}
                    {% else %}
                        {% with fallback_src=promotional_banner.mobile_image.url %}
                            <picture class="block w-full overflow-hidden">
                                <source media="(max-width: 767px)" srcset="{{ promotional_banner.mobile_image.url }}">
                                <img src="{{ fallback_src }}" alt="{{ promotional_banner.name|default:_('Рекламный баннер Undersun Estate') }}"
                                     class="w-full h-[150px] object-cover transition-transform duration-500 ease-out" loading="lazy">
                            </picture>
                        {% endwith %}
                    {% endif %}

            {% if banner_url %}
                </a>
            {% else %}
                </div>
            {% endif %}
            </div>
        </section>
        {% endwith %}
    {% endif %}
{% endif %}
