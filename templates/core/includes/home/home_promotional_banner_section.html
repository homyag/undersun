{% load static %}
{% load i18n %}
    {% if promotional_banner %}
        <section class="promotional-banner-section relative overflow-hidden bg-gradient-to-r from-accent to-accent/80"
                 style="min-height: 125px;">
            <!-- Background Image -->
            <div class="absolute inset-0">
                <div class="absolute inset-0 bg-cover bg-center bg-no-repeat"
                     style="background-image: url('{{ promotional_banner.image.url }}');"></div>
                <div class="absolute inset-0 bg-black/20"></div>
            </div>

            <!-- Content -->
            <div class="relative z-10 h-full max-w-7xl mx-auto px-4 py-4">
                <!-- Desktop Layout -->
                <div class="hidden md:flex items-center justify-between h-full min-h-[100px]">
                    <!-- Left side - Text content -->
                    <div class="flex items-center space-x-6">
                        <!-- Title and description -->
                        <div>
                            <h2 class="text-2xl font-bold text-white leading-tight">
                                {{ promotional_banner.title }}
                            </h2>
                            {% if promotional_banner.description %}
                                <p class="text-white/90 text-sm mt-1 max-w-md">
                                    {{ promotional_banner.description|truncatewords:10 }}
                                </p>
                            {% endif %}
                        </div>

                        <!-- Discount badge -->
                        {% if promotional_banner.discount_text %}
                            <div class="bg-white/20 backdrop-blur-sm rounded-md px-4 py-2 border border-white/30">
                                <div class="text-white font-bold text-lg">
                                    {{ promotional_banner.discount_text }}
                                </div>
                                {% if promotional_banner.valid_until %}
                                    <div class="text-white/80 text-xs">
                                        {% trans "до" %} {{ promotional_banner.valid_until|date:"d.m.Y" }}
                                    </div>
                                {% endif %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Right side - Action button -->
                    <div>
                        {% if promotional_banner.button_text %}
                            {% with banner_url=promotional_banner.get_language_aware_url %}
                                {% if banner_url %}
                                    <a href="{{ banner_url }}"
                                       class="inline-flex items-center px-6 py-3 bg-white hover:bg-gray-100 text-primary font-bold rounded-md transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                                        {{ promotional_banner.button_text }}
                                        <i class="fas fa-arrow-right ml-2"></i>
                                    </a>
                                {% else %}
                                    <a href="{% url 'property_list' %}"
                                       class="inline-flex items-center px-6 py-3 bg-white hover:bg-gray-100 text-primary font-bold rounded-md transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                                        {{ promotional_banner.button_text }}
                                        <i class="fas fa-arrow-right ml-2"></i>
                                    </a>
                                {% endif %}
                            {% endwith %}
                        {% else %}
                            <a href="{% url 'property_list' %}"
                               class="inline-flex items-center px-6 py-3 bg-white hover:bg-gray-100 text-primary font-bold rounded-md transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105">
                                {% trans "Смотреть предложения" %}
                                <i class="fas fa-arrow-right ml-2"></i>
                            </a>
                        {% endif %}
                    </div>
                </div>

                <!-- Mobile Layout -->
                <div class="md:hidden flex flex-col space-y-3 min-h-[100px] justify-center">
                    <!-- Title and discount in one row -->
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h2 class="text-lg font-bold text-white leading-tight">
                                {{ promotional_banner.title }}
                            </h2>
                            {% if promotional_banner.description %}
                                <p class="text-white/90 text-xs mt-1">
                                    {{ promotional_banner.description|truncatewords:8 }}
                                </p>
                            {% endif %}
                        </div>

                        {% if promotional_banner.discount_text %}
                            <div class="bg-white/20 backdrop-blur-sm rounded px-3 py-1 border border-white/30 ml-3">
                                <div class="text-white font-bold text-sm">
                                    {{ promotional_banner.discount_text }}
                                </div>
                                {% if promotional_banner.valid_until %}
                                    <div class="text-white/80 text-xs">
                                        {% trans "до" %} {{ promotional_banner.valid_until|date:"d.m" }}
                                    </div>
                                {% endif %}
                            </div>
                        {% endif %}
                    </div>

                    <!-- Action button -->
                    <div class="flex justify-center">
                        {% if promotional_banner.button_text %}
                            {% with banner_url=promotional_banner.get_language_aware_url %}
                                {% if banner_url %}
                                    <a href="{{ banner_url }}"
                                       class="inline-flex items-center px-4 py-2 bg-white hover:bg-gray-100 text-primary font-bold text-sm rounded-md transition-all duration-300 shadow-lg">
                                        {{ promotional_banner.button_text }}
                                        <i class="fas fa-arrow-right ml-2"></i>
                                    </a>
                                {% else %}
                                    <a href="{% url 'property_list' %}"
                                       class="inline-flex items-center px-4 py-2 bg-white hover:bg-gray-100 text-primary font-bold text-sm rounded-md transition-all duration-300 shadow-lg">
                                        {{ promotional_banner.button_text }}
                                        <i class="fas fa-arrow-right ml-2"></i>
                                    </a>
                                {% endif %}
                            {% endwith %}
                        {% else %}
                            <a href="{% url 'property_list' %}"
                               class="inline-flex items-center px-4 py-2 bg-white hover:bg-gray-100 text-primary font-bold text-sm rounded-md transition-all duration-300 shadow-lg">
                                {% trans "Смотреть предложения" %}
                                <i class="fas fa-arrow-right ml-2"></i>
                            </a>
                        {% endif %}
                    </div>
                </div>
            </div>

            <!-- Subtle gradient overlay -->
            <div class="absolute inset-0 bg-gradient-to-r from-accent/10 to-primary/10 pointer-events-none"></div>
        </section>
    {% endif %}